(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{10:function(e,t,n){e.exports={wrapper:"Common_wrapper__3tLSR"}},28:function(e,t,n){e.exports={btns:"Registration_btns__1rxbD"}},34:function(e,t,n){},35:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c,r=n(0),i=n.n(r),o=n(13),s=n.n(o),a=(n(34),n(35),n(2)),j=n(3),d=n(10),l=n.n(d),u=n(4),b=n(5),O=n(7),h=n(14),g=n.n(h),p=g.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),x=function(e){return p.post("auth/login",e)},f=function(){return p.delete("auth/me",{})},v=function(){return p.post("auth/me",{})},m=function(e){return p.post("auth/register",e)},w={errorNetwork:""},T=function(e){return{type:"ERROR/SET_ERROR_NETWORK",error:e}};!function(e){e.idle="idle",e.loading="loading",e.succeeded="succeeded",e.failed="failed"}(c||(c={}));var S={status:c.idle},k=function(e){return{type:"APP/STATUS_TOGGLE",status:e}},E={isLoggedIn:!1,user:{}},L=function(e){return{type:"LOGIN/IS_LOGGED_IN",isLoggedIn:e}},C=n(1),R=function(){var e=Object(r.useState)("trolololo@gmail.com"),t=Object(j.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)("123456789As"),s=Object(j.a)(o,2),d=s[0],O=s[1],h=Object(r.useState)(!1),g=Object(j.a)(h,2),p=g[0],f=g[1],v=Object(b.b)(),m=Object(b.c)((function(e){return e.login.isLoggedIn}));return console.log("checkBox",p),m?Object(C.jsx)(a.a,{to:"/"}):Object(C.jsxs)("div",{className:l.a.wrapper,children:[Object(C.jsx)("div",{children:"Learning game"}),Object(C.jsx)("div",{children:"Sign in"}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{placeholder:"Email",value:n,onChange:function(e){i(e.currentTarget.value)}})}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{placeholder:"Password",value:d,onChange:function(e){O(e.currentTarget.value)}})}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{placeholder:"remember me",type:"checkbox",checked:p,onChange:function(e){f(e.currentTarget.checked)}})}),Object(C.jsx)(u.b,{to:"/recover",children:" Forgot your password? "}),Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){var e;v((e={email:n,password:d,rememberMe:p},function(t){t(k(c.loading)),x(e).then((function(e){console.log("user",e.data);var n=e.data;t(L(!0)),t(k(c.succeeded)),t({type:"LOGIN/SET_USER_DATA",user:n})})).catch((function(e){t(k(c.failed));var n=e.response?e.response.data.error:"".concat(e.message,", more details in the console");console.log(n),t(T(n))}))}))},children:"Login"})," "]}),Object(C.jsx)("div",{children:"Dont have an account"}),Object(C.jsx)(u.b,{to:"/registration",children:" Sign up "})]})},y=n(28),_=n.n(y),N={isAuth:!1},G=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(""),s=Object(j.a)(o,2),d=s[0],u=s[1],O=Object(r.useState)(""),h=Object(j.a)(O,2),g=h[0],p=h[1],x=Object(b.b)(),f=Object(b.c)((function(e){return e.register.isAuth})),v=Object(b.c)((function(e){return e.app.status})),w=Object(b.c)((function(e){return e.errors.errorNetwork}));return f?Object(C.jsx)(a.a,{to:"/login"}):Object(C.jsx)("div",{children:v===c.loading?Object(C.jsx)("div",{children:"Loading..."}):Object(C.jsxs)("div",{className:l.a.wrapper,children:[Object(C.jsx)("div",{children:"Learning game"}),Object(C.jsx)("div",{children:"Sign up"}),w?Object(C.jsx)("span",{children:w}):Object(C.jsx)("span",{}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{placeholder:"Email",value:n,onChange:function(e){i(e.currentTarget.value)}})}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{placeholder:"Password",value:d,onChange:function(e){u(e.currentTarget.value)}})}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{placeholder:"Confirm password",value:g,onChange:function(e){p(e.currentTarget.value)}})}),Object(C.jsxs)("div",{className:_.a.btns,children:[Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(){x(T(" ")),i(""),u(""),p("")},children:"Cancel"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(){var e;x((e={email:n,password:d},function(t){t(k(c.loading)),m(e).then((function(){t({type:"REGISTER/AUTH_TOGGLE",isAuth:!0}),t(k(c.succeeded))})).catch((function(e){t(k(c.failed));var n=e.response?e.response.data.error:"".concat(e.message,", more details in the console");console.log(n),t(T(n))}))}))},children:"Register"})})]})]})})},I=function(){var e=Object(b.c)((function(e){return e.login.isLoggedIn})),t=Object(b.b)();return e?Object(C.jsxs)("div",{className:l.a.wrapper,children:[Object(C.jsx)("h1",{children:"profile"}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(){t((function(e){e(k(c.loading)),f().then((function(t){e(L(!1)),console.log("user",t.data),e(k(c.succeeded))})).catch((function(t){e(k(c.failed));var n=t.response?t.response.data.error:"".concat(t.message,", more details in the console");console.log(n),e(T(n))}))}))},children:"LogOut"})})]}):Object(C.jsx)(a.a,{to:"login"})},A=function(){return Object(C.jsx)("div",{className:l.a.wrapper,children:Object(C.jsx)("h1",{children:"404:page NOT found"})})},P=g.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),D=function(e){return P.post("auth/forgot",e)},U=function(e){return P.post("auth/set-new-password",e)},F=function(){var e=Object(r.useState)("samutic40@gmail.com"),t=Object(j.a)(e,2),n=t[0],c=t[1],i={email:n,from:"test-front-admin <samutic40@gmail.com>",message:"<div style='background-color: #ffd500; \npadding: 15px; \nborder-color: #ff9900; \nwidth: 250px;\nheight: 30px'> \npassword recovery link: <a href='http://localhost:3000/cards#/newPassword/$token$'> recovery link </a></div>"};return Object(C.jsxs)("div",{className:l.a.wrapper,children:[Object(C.jsx)("div",{children:"Learning game"}),Object(C.jsx)("div",{children:"Forgot your password?"}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{placeholder:"Email",value:n,onChange:function(e){c(e.currentTarget.value)}})}),Object(C.jsx)("div",{children:"Enter your Email and we will send you further instructions"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){D(i).then((function(e){console.log("res",e.data)}))},children:"Send instructions"})," "]}),Object(C.jsx)("div",{children:"Did you remember your password?"}),Object(C.jsx)(u.b,{to:"/login",children:" Try logging in "})]})},B=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(!1),o=Object(j.a)(i,2),s=o[0],d=o[1],u=(Object(b.b)(),{password:n,resetPasswordToken:Object(a.h)().token});return s?Object(C.jsx)(a.a,{to:"/login"}):Object(C.jsxs)("div",{className:l.a.wrapper,children:[Object(C.jsx)("div",{children:"Learning game"}),Object(C.jsx)("div",{children:"Create new password?"}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{placeholder:"Password",onChange:function(e){c(e.currentTarget.value)},value:n})}),Object(C.jsx)("div",{children:"Create new password and we will send you further instructions to email"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){U(u).then((function(e){d((function(e){return!0}))}))},children:"Create new password"})," "]})]})},H=function(){return Object(C.jsxs)(a.d,{children:[Object(C.jsx)(a.b,{path:"login",element:Object(C.jsx)(R,{})}),Object(C.jsx)(a.b,{path:"registration",element:Object(C.jsx)(G,{})}),Object(C.jsx)(a.b,{path:"/",element:Object(C.jsx)(I,{})}),Object(C.jsx)(a.b,{path:"404",element:Object(C.jsx)(A,{})}),Object(C.jsx)(a.b,{path:"*",element:Object(C.jsx)(a.a,{to:"/404"})}),Object(C.jsx)(a.b,{path:"recover",element:Object(C.jsx)(F,{})}),Object(C.jsx)(a.b,{path:"newPassword",element:Object(C.jsx)(B,{}),children:Object(C.jsx)(a.b,{path:":token",element:Object(C.jsx)(B,{})})})]})};var J=function(){var e=Object(b.c)((function(e){return e.app.status})),t=Object(b.b)();return Object(r.useEffect)((function(){t((function(e){e(k(c.loading)),v().then((function(){e(k(c.succeeded))})).catch((function(t){e(k(c.failed));var n=t.response?t.response.data.error:"".concat(t.message,", more details in the console");console.log(n),e(T(n))}))}))}),[t]),Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{children:[Object(C.jsx)(u.c,{to:"login",children:"login"}),"---",Object(C.jsx)(u.c,{to:"/",children:"profile"}),"---",Object(C.jsx)(u.c,{to:"registration",children:"registration"}),"---",Object(C.jsx)(u.c,{to:"recover",children:"recover"}),"---",Object(C.jsx)(u.c,{to:"*",children:"404"}),"---",Object(C.jsx)(u.c,{to:"newPassword/:token",children:"create new"})]}),e===c.loading?Object(C.jsx)("div",{children:" loading... "}):Object(C.jsx)(H,{})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))},M=n(16),W={},$=n(29),q=Object(M.b)({cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"":default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER/AUTH_TOGGLE":return Object(O.a)(Object(O.a)({},e),{},{isAuth:t.isAuth});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/STATUS_TOGGLE":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR/SET_ERROR_NETWORK":return Object(O.a)(Object(O.a)({},e),{},{errorNetwork:t.error});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN/IS_LOGGED_IN":return Object(O.a)(Object(O.a)({},e),{},{isLoggedIn:t.isLoggedIn});case"LOGIN/SET_USER_DATA":return Object(O.a)(Object(O.a)({},e),{},{user:t.user});default:return e}}}),z=Object(M.c)(q,Object(M.a)($.a)),Q=z;window.store=z,s.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(b.a,{store:Q,children:Object(C.jsx)(J,{})})})}),document.getElementById("root")),K()}},[[61,1,2]]]);
//# sourceMappingURL=main.5106cd8e.chunk.js.map